[
    {
        "protocol": "PCI transaction termination",
        "candidates": "work_PCI_batching/round_2/llm_filtered_1.json",
        "textual_description": "PCI transaction termination \u2013 signal interaction rules\n\nGeneral\n- A data phase completes on any rising clock edge where IRDY# is asserted and either TRDY# or STOP# is asserted. If TRDY# is asserted, data transfers; if only STOP# is asserted, no data transfers in that phase.\n- The bus returns to Idle when both FRAME# and IRDY# are deasserted.\n\nFRAME#\n- Master asserts FRAME# to start a transaction. To terminate, the master deasserts FRAME# while asserting IRDY#; this makes the current phase the final one.\n- FRAME# cannot be deasserted unless IRDY# is asserted. Once deasserted, it cannot be reasserted in the same transaction.\n- Once the master has asserted IRDY#, it cannot change FRAME# until the current data phase completes.\n- If the target asserts STOP#, the master must deassert FRAME# as soon as it can assert IRDY#.\n- Master\u2011Abort: if no target asserts DEVSEL# by the allowed decode window (up to clock 5 from the first assertion of FRAME#), the master terminates with Master\u2011Abort by deasserting FRAME# and then IRDY#. Earliest termination is five clocks after FRAME# was first asserted.\n- Timeout termination: when the master\u2019s Latency Timer expires and GNT# is deasserted, the master must deassert FRAME# and end the transaction at the next legal phase boundary (for Memory Write and Invalidate, at a cacheline boundary).\n\nIRDY#\n- Asserted by the master when ready for the current data phase.\n- A data phase completes on a clock where IRDY# and TRDY# are both asserted or IRDY# and STOP# are both asserted.\n- Once asserted, IRDY# cannot change until the current data phase completes.\n- In the last phase, the master asserts IRDY# and deasserts FRAME#; IRDY# must remain asserted until the last transfer occurs, then be deasserted on the next clock.\n\nTRDY#\n- Asserted by the target when it can complete the current data phase; cannot be driven until DEVSEL# is asserted.\n- Once the target has asserted TRDY# (or STOP#), it cannot change TRDY#, STOP#, or DEVSEL# until the current data phase completes.\n- With IRDY# asserted, TRDY# causes a data transfer. With STOP# asserted at the same time, it is a Disconnect with Data (only the current phase completes).\n- TRDY# must be deasserted the clock following completion of the last data phase and tri\u2011stated on the next clock.\n\nSTOP#\n- Asserted by the target to request termination.\n- Retry (busy, no data): on the initial data phase only, the target asserts STOP# and does not assert TRDY# (STOP# cannot be asserted during the address\u2011to\u2011data turn\u2011around of a read). Master must repeat the request unconditionally.\n- Disconnect With Data: target asserts STOP# and TRDY# together; only the current data phase completes, then the master must end the transaction.\n- Disconnect Without Data: on a subsequent phase (i.e., data was transferred in the previous phase), the target deasserts TRDY# and asserts STOP#; the current phase completes without transferring data.\n- Once asserted, STOP# must remain asserted until FRAME# is deasserted, after which STOP# is deasserted on the next clock.\n\nDEVSEL#\n- Asserted by the target when it positively decodes the address; asserted in fast/medium/slow windows (1/2/3 clocks). If no device asserts DEVSEL# by the allowed window (up to clock 5), the master must terminate with Master\u2011Abort.\n- During a data phase, once the target has asserted TRDY# or STOP#, DEVSEL# cannot change until that data phase completes.\n- Target\u2011Abort: an abnormal termination signaled by deasserting DEVSEL# and asserting STOP# in the same clock.\n- DEVSEL#, TRDY#, and STOP# must all be deasserted the clock after the last data phase completes and tri\u2011stated on the following clock."
    }
]